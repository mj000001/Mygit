function result = SPLD(loss, groupmembership, lamda, gamma)
    groupidx = unique(groupmembership); %获取一共多少组
    b = size(groupidx, 2); 
    selectedidx = zeros(size(loss));
    selectedsocres = zeros(size(loss));
    for j = 1:b
        idx_ingroup = find(groupmembership == groupidx(j))
        loss_ingroup = loss(idx_ingroup);
        [sort_loss, index] = sort(loss_ingroup);
        for ii = 1:size(sort_loss, 2)
            rank_ingroup(ii) = find(loss_ingroup(ii) == sort_loss);
        end
        nj = size(idx_ingroup, 2);
        for i = 1:nj
        if (loss_ingroup(i) < lambda + gamma/(sqrt(rank_ingroup(i))+sqrt(rank_ingroup(i)-1)))
            selectedidx(idx_ingroup(i))=1;
        else 
            selectedidx(idx_ingroup(i))=0;
        end
        end
        selectedsocres(idx_ingroup(i)) = loss_ingroup(i) - lambda - gamma/(sqrt(rank_ingroup(i))+sqrt(rank_ingroup(i)-1));
        selectedidx = find(selectedidx == 1);
        result = selectedidx(sort(selectedsocres(selectedidx)));
    end
